/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @param {?} formPath
 * @return {?}
 */
export function importForm(formPath) {
    /** @type {?} */
    var fsys = require('fs');
    /** @type {?} */
    var pathh = require('path');
    try {
        /** @type {?} */
        var form = JSON.parse(fsys.readFileSync(formPath + ".json", 'utf8'));
    }
    catch (e) {
        console.log('ERROR importForm() reading the custom form json file :' + e);
    }
    /** @type {?} */
    var htmlForm = "<div class=\"custom-form\" name=\"" + formPath.substring(formPath.lastIndexOf('/') + 1) + "\">";
    for (var page in form['layout']['pages']) {
        htmlForm += "<form id=\"" + form['layout']['pages'][page]['id'] + "\" title=\"" + form['layout']['pages'][page]['title'] + "\"";
        if (form['layout']['pages'][page]['state']['visible']) {
            htmlForm += " visibility=\"" + form['layout']['pages'][page]['state']['visible'] + "\"";
        }
        htmlForm += ">";
        for (var section in form['layout']['pages'][page]['sections']) {
            htmlForm += "<section id=\"" + form['layout']['pages'][page]['sections'][section]['id'] + "\">";
            for (var field in form['layout']['pages'][page]['sections'][section]['fields']) {
                /** @type {?} */
                var fieldID = form['layout']['pages'][page]['sections'][section]['fields'][field]['id'];
                /** @type {?} */
                var basicAttributes = "id=\"" + fieldID + "\"\n                    visibility=\"" + JSON.stringify(form['layout']['pages'][page]['sections'][section]['fields'][field]['state']['visible']).replace(/\"/g, '\'') + "\"\n                    readonly=\"" + JSON.stringify(form['layout']['pages'][page]['sections'][section]['fields'][field]['state']['read-only']).replace(/\"/g, '\'') + "\"";
                /** @type {?} */
                var closingTag = "";
                /** @type {?} */
                var fieldType = form['layout']['pages'][page]['sections'][section]['fields'][field]['display'];
                switch (fieldType) {
                    case 'text':
                        htmlForm += "<label " + basicAttributes;
                        closingTag = "</label>";
                        break;
                    case 'textArea':
                        htmlForm += "<textarea " + basicAttributes;
                        closingTag = "</textarea>";
                        break;
                    case 'textField':
                        htmlForm += "<input type=\"text\" " + basicAttributes;
                        break;
                    case 'passwordField':
                        htmlForm += "<input type=\"password\" " + basicAttributes;
                        break;
                    case 'decimalField':
                        htmlForm += "<input type=\"number\" step =\"0.\"" + basicAttributes;
                        break;
                    case 'integerField':
                        htmlForm += "<input type=\"number\" " + basicAttributes;
                        break;
                    case 'image':
                        htmlForm += "<img " + basicAttributes;
                        break;
                    case 'checkbox':
                        htmlForm += "<input type=\"checkbox\" " + basicAttributes;
                        break;
                    case 'dropDown':
                        htmlForm += "<select " + basicAttributes;
                        closingTag = "</select>";
                        break;
                    case 'multiSelect':
                        htmlForm += "<select multiple=\"true\" " + basicAttributes;
                        closingTag = "</select>";
                        break;
                    case 'datagrid':
                        htmlForm += "<table " + basicAttributes;
                        closingTag = "</table>";
                        break;
                }
                if (form['schema'][fieldID]['constraints']) {
                    if (form['schema'][fieldID]['constraints']['required']) {
                        htmlForm += " required=\"" + JSON.stringify(form['schema'][fieldID]['constraints']['required']).replace(/\"/g, '\'') + "\"";
                    }
                    if (form['schema'][fieldID]['constraints']['min-value']) {
                        htmlForm += " min=\"" + JSON.stringify(form['schema'][fieldID]['constraints']['min-value']).replace(/\"/g, '\'') + "\"";
                    }
                    if (form['schema'][fieldID]['constraints']['max-value']) {
                        htmlForm += " max=\"" + JSON.stringify(form['schema'][fieldID]['constraints']['max-value']).replace(/\"/g, '\'') + "\"";
                    }
                    if (form['schema'][fieldID]['constraints']['pattern']) {
                        htmlForm += " regex=\"" + JSON.stringify({
                            value: form['schema'][fieldID]['constraints']['pattern']['value'],
                            message: form['schema'][fieldID]['constraints']['pattern']['message']
                        }).replace(/\"/g, '\'') + "\"";
                    }
                    if (form['schema'][fieldID]['constraints']['match']) {
                        htmlForm += " match=\"" + JSON.stringify(form['schema'][fieldID]['constraints']['match']).replace(/\"/g, '\'') + "\"";
                    }
                }
                if (form['schema'][fieldID]['default']) {
                    if (form['schema'][fieldID]['default']['type'] == 'scriptAction' ||
                        Array.isArray(form['schema'][fieldID]['default'])) {
                        htmlForm += " value=\"" + JSON.stringify(form['schema'][fieldID]['default']).replace(/\"/g, '\'') + "\"";
                        // .replace(/\{/g, '{{ \'{\' }}').replace(/\}/g, '{{ \'}\' }}')}"`;
                    }
                    else if (form['schema'][fieldID]['default']['bind']) {
                        if (JSON.stringify(form['schema'][fieldID]['default']['bind']).startsWith('{')) {
                            htmlForm += " bind=\"" + JSON.stringify(form['schema'][fieldID]['default']['bind']).replace(/\"/g, '\'') + "\"";
                        }
                        else {
                            htmlForm += " bind=\"" + JSON.stringify(form['schema'][fieldID]['default']['bind']).replace(/\"/g, '') + "\"";
                        }
                    }
                    else {
                        htmlForm += " value=\"" + JSON.stringify(form['schema'][fieldID]['default']).replace(/\"/g, '') + "\"";
                    }
                }
                if (form['schema'][fieldID]['valueList']) {
                    if (form['schema'][fieldID]['valueList']['type'] == 'scriptAction') {
                        htmlForm += " valueList=\"" + JSON.stringify(form['schema'][fieldID]['valueList']).replace(/\"/g, '\'') + "\"";
                        // .replace(/\{/g, '{{ \'{\' }}').replace(/\}/g, '{{ \'}\' }}')}"`;
                    }
                    else {
                        /** @type {?} */
                        var valueList = "";
                        for (var opt in form['schema'][fieldID]['valueList']) {
                            if (form['schema'][fieldID]['valueList'][opt]['label']) {
                                valueList += "<option label=\"" + form['schema'][fieldID]['valueList'][opt]['label'] + "\">" + form['schema'][fieldID]['valueList'][opt]['label'] + "</option>";
                            }
                            else {
                                valueList += "<option>" + JSON.stringify(form['schema'][fieldID]['valueList'][opt]).replace(/\"/g, '') + "</option>";
                            }
                        }
                    }
                }
                if (form['schema'][fieldID]['label']) {
                    htmlForm += " label=\"" + form['schema'][fieldID]['label'] + "\"";
                }
                if (form['schema'][fieldID]['description']) {
                    htmlForm += " description=\"" + JSON.stringify(form['schema'][fieldID]['description']).replace(/\"/g, '') + "\"";
                }
                if (form['schema'][fieldID]['signpost']) {
                    htmlForm += " signpost=\"" + JSON.stringify(form['schema'][fieldID]['signpost']).replace(/\"/g, '\'') + "\"";
                }
                if (form['schema'][fieldID]['step']) {
                    htmlForm += " step=\"" + JSON.stringify(form['schema'][fieldID]['step']).replace(/\"/g, '\'') + "\"";
                }
                if (form['schema'][fieldID]['placeholder']) {
                    htmlForm += " step=\"" + JSON.stringify(form['schema'][fieldID]['placeholder']).replace(/\"/g, '') + "\"";
                }
                //      DATAGRID
                if (form['schema'][fieldID]['type']['fields']) {
                    /** @type {?} */
                    var dgFields = "<tr id='cols'>";
                    for (var fld in form['schema'][fieldID]['type']['fields']) {
                        dgFields += "<th id='" + form['schema'][fieldID]['type']['fields'][fld]['id'] + "' "
                            + "type='" + form['schema'][fieldID]['type']['fields'][fld]['type']['dataType'] + "' "
                            + "description='" + form['schema'][fieldID]['type']['fields'][fld]['id'] + "'>"
                            + form['schema'][fieldID]['type']['fields'][fld]['label'] + "</th>";
                    }
                    dgFields += "</tr>";
                    if (form['schema'][fieldID]['default']) {
                        /** @type {?} */
                        var dgData = "";
                        if (form['schema'][fieldID]['default']['type'] == "scriptAction") {
                            dgData += "<tr id='data' value=\"" + JSON.stringify(form['schema'][fieldID]['default']).replace(/\"/g, '\'') + "\" ></tr>";
                        }
                        else {
                            /** @type {?} */
                            var colsLen = form['schema'][fieldID]['type']['fields'].length;
                            /** @type {?} */
                            var cnt = 0;
                            for (var entity in form['schema'][fieldID]['default']) {
                                dgData += "<tr id='data'>";
                                for (var data in form['schema'][fieldID]['default'][entity]) {
                                    if (cnt < colsLen) {
                                        dgData += "<td>" + form['schema'][fieldID]['default'][entity][data] + "</td>";
                                        cnt++;
                                    }
                                }
                                dgData += "</tr>";
                            }
                        }
                    }
                }
                if (form['options']['externalValidations']) {
                    for (var extVal in form['options']['externalValidations']) {
                        for (var id in form['options']['externalValidations'][extVal]['target']) {
                            if (fieldID == form['options']['externalValidations'][extVal]['target'][id]) {
                                htmlForm += " options=\"" + JSON.stringify(form['options']['externalValidations'][extVal]).replace(/\"/g, '\'') + "\"";
                            }
                        }
                    }
                }
                htmlForm += ">";
                if ((fieldType == 'dropDown' || fieldType == 'multiSelect') && valueList) {
                    htmlForm += valueList;
                    valueList = "";
                }
                //      DATAGRID
                if (fieldType == 'datagrid') {
                    htmlForm += dgFields;
                    htmlForm += dgData;
                }
                htmlForm += closingTag;
            }
            htmlForm += "</section>";
        }
        htmlForm += "</form>";
    }
    htmlForm += "</div>";
    try {
        // fsys.truncateSync(pathh.join('src/app', 'app.component.html'), '');
        fsys.writeFileSync(pathh.join('src/app', 'app.component.html'), htmlForm);
    }
    catch (e) {
        console.log('ERROR importForm() writing to the app.component.html file:' + e);
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1wb3J0Rm9ybS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2N1c3QtZm9ybS1idWlsZGVyLyIsInNvdXJjZXMiOlsibGliL2ltcG9ydEZvcm0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxNQUFNLHFCQUFxQixRQUFROztJQUMvQixJQUFNLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7O0lBQzNCLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUU5QixJQUFJOztRQUNBLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBSSxRQUFRLFVBQU8sRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO0tBQ3hFO0lBQ0QsT0FBTyxDQUFDLEVBQUU7UUFDTixPQUFPLENBQUMsR0FBRyxDQUFDLHdEQUF3RCxHQUFHLENBQUMsQ0FBQyxDQUFDO0tBQzdFOztJQUNELElBQUksUUFBUSxHQUFHLHVDQUFrQyxRQUFRLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQUksQ0FBQztJQUV2RyxLQUFLLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRTtRQUN0QyxRQUFRLElBQUksZ0JBQWEsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxtQkFBWSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQUcsQ0FBQztRQUNsSCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUNuRCxRQUFRLElBQUksbUJBQWdC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Q3pCLFFBQVEsSUFBSSxRQUFRLENBQUM7b0JBQ3JCLFFBQVEsSUFBSSxNQUFNLENBQUM7aUJBRXRCO2dCQUNELFFBQVEsSUFBSSxVQUFVLENBQUM7YUFDMUI7WUFDRCxRQUFRLElBQUksWUFBWSxDQUFDO1NBQzVCO1FBQ0QsUUFBUSxJQUFJLFNBQVMsQ0FBQztLQUN6QjtJQUdELFFBQVEsSUFBSSxRQUFRLENBQUE7SUFFcEIsSUFBSTs7UUFFQSxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLG9CQUFvQixDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7S0FDN0U7SUFDRCxPQUFPLENBQUMsRUFBRTtRQUNOLE9BQU8sQ0FBQyxHQUFHLENBQUMsNERBQTRELEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDakY7Q0FFSiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpbXBvcnRGb3JtKGZvcm1QYXRoKSB7XG4gICAgY29uc3QgZnN5cyA9IHJlcXVpcmUoJ2ZzJyk7XG4gICAgY29uc3QgcGF0aGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbiAgICB0cnkge1xuICAgICAgICB2YXIgZm9ybSA9IEpTT04ucGFyc2UoZnN5cy5yZWFkRmlsZVN5bmMoYCR7Zm9ybVBhdGh9Lmpzb25gLCAndXRmOCcpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SIGltcG9ydEZvcm0oKSByZWFkaW5nIHRoZSBjdXN0b20gZm9ybSBqc29uIGZpbGUgOicgKyBlKTtcbiAgICB9XG4gICAgdmFyIGh0bWxGb3JtID0gYDxkaXYgY2xhc3M9XCJjdXN0b20tZm9ybVwiIG5hbWU9XCIke2Zvcm1QYXRoLnN1YnN0cmluZyhmb3JtUGF0aC5sYXN0SW5kZXhPZignLycpICsgMSl9XCI+YDtcblxuICAgIGZvciAodmFyIHBhZ2UgaW4gZm9ybVsnbGF5b3V0J11bJ3BhZ2VzJ10pIHtcbiAgICAgICAgaHRtbEZvcm0gKz0gYDxmb3JtIGlkPVwiJHtmb3JtWydsYXlvdXQnXVsncGFnZXMnXVtwYWdlXVsnaWQnXX1cIiB0aXRsZT1cIiR7Zm9ybVsnbGF5b3V0J11bJ3BhZ2VzJ11bcGFnZV1bJ3RpdGxlJ119XCJgO1xuICAgICAgICBpZiAoZm9ybVsnbGF5b3V0J11bJ3BhZ2VzJ11bcGFnZV1bJ3N0YXRlJ11bJ3Zpc2libGUnXSkge1xuICAgICAgICAgICAgaHRtbEZvcm0gKz0gYCB2aXNpYmlsaXR5PVwiJHtmb3JtWydsYXlvdXQnXVsncGFnZXMnXVtwYWdlXVsnc3RhdGUnXVsndmlzaWJsZSddfVwiYDtcbiAgICAgICAgfVxuICAgICAgICBodG1sRm9ybSArPSBgPmA7XG4gICAgICAgIGZvciAodmFyIHNlY3Rpb24gaW4gZm9ybVsnbGF5b3V0J11bJ3BhZ2VzJ11bcGFnZV1bJ3NlY3Rpb25zJ10pIHtcbiAgICAgICAgICAgIGh0bWxGb3JtICs9IGA8c2VjdGlvbiBpZD1cIiR7Zm9ybVsnbGF5b3V0J11bJ3BhZ2VzJ11bcGFnZV1bJ3NlY3Rpb25zJ11bc2VjdGlvbl1bJ2lkJ119XCI+YDtcbiAgICAgICAgICAgIGZvciAodmFyIGZpZWxkIGluIGZvcm1bJ2xheW91dCddWydwYWdlcyddW3BhZ2VdWydzZWN0aW9ucyddW3NlY3Rpb25dWydmaWVsZHMnXSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkSUQgPSBmb3JtWydsYXlvdXQnXVsncGFnZXMnXVtwYWdlXVsnc2VjdGlvbnMnXVtzZWN0aW9uXVsnZmllbGRzJ11bZmllbGRdWydpZCddO1xuICAgICAgICAgICAgICAgIHZhciBiYXNpY0F0dHJpYnV0ZXMgPSBgaWQ9XCIke2ZpZWxkSUR9XCJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eT1cIiR7SlNPTi5zdHJpbmdpZnkoZm9ybVsnbGF5b3V0J11bJ3BhZ2VzJ11bcGFnZV1bJ3NlY3Rpb25zJ11bc2VjdGlvbl1bJ2ZpZWxkcyddW2ZpZWxkXVsnc3RhdGUnXVsndmlzaWJsZSddKS5yZXBsYWNlKC9cXFwiL2csICdcXCcnKX1cIlxuICAgICAgICAgICAgICAgICAgICByZWFkb25seT1cIiR7SlNPTi5zdHJpbmdpZnkoZm9ybVsnbGF5b3V0J11bJ3BhZ2VzJ11bcGFnZV1bJ3NlY3Rpb25zJ11bc2VjdGlvbl1bJ2ZpZWxkcyddW2ZpZWxkXVsnc3RhdGUnXVsncmVhZC1vbmx5J10pLnJlcGxhY2UoL1xcXCIvZywgJ1xcJycpfVwiYDtcbiAgICAgICAgICAgICAgICB2YXIgY2xvc2luZ1RhZyA9IGBgO1xuICAgICAgICAgICAgICAgIHZhciBmaWVsZFR5cGUgPSBmb3JtWydsYXlvdXQnXVsncGFnZXMnXVtwYWdlXVsnc2VjdGlvbnMnXVtzZWN0aW9uXVsnZmllbGRzJ11bZmllbGRdWydkaXNwbGF5J107XG5cblxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZmllbGRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcm0gKz0gYDxsYWJlbCBgICsgYmFzaWNBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2luZ1RhZyA9IGA8L2xhYmVsPmBcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZXh0QXJlYSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9ybSArPSBgPHRleHRhcmVhIGAgKyBiYXNpY0F0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zaW5nVGFnID0gYDwvdGV4dGFyZWE+YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZXh0RmllbGQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcm0gKz0gYDxpbnB1dCB0eXBlPVwidGV4dFwiIGAgKyBiYXNpY0F0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncGFzc3dvcmRGaWVsZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9ybSArPSBgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGAgKyBiYXNpY0F0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVjaW1hbEZpZWxkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxGb3JtICs9IGA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXAgPVwiMC5cImAgKyBiYXNpY0F0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW50ZWdlckZpZWxkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxGb3JtICs9IGA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGAgKyBiYXNpY0F0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW1hZ2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcm0gKz0gYDxpbWcgYCArIGJhc2ljQXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9ybSArPSBgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGAgKyBiYXNpY0F0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZHJvcERvd24nOlxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcm0gKz0gYDxzZWxlY3QgYCArIGJhc2ljQXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NpbmdUYWcgPSBgPC9zZWxlY3Q+YFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ211bHRpU2VsZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxGb3JtICs9IGA8c2VsZWN0IG11bHRpcGxlPVwidHJ1ZVwiIGAgKyBiYXNpY0F0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zaW5nVGFnID0gYDwvc2VsZWN0PmBcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXRhZ3JpZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9ybSArPSBgPHRhYmxlIGAgKyBiYXNpY0F0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zaW5nVGFnID0gYDwvdGFibGU+YFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydjb25zdHJhaW50cyddKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsnY29uc3RyYWludHMnXVsncmVxdWlyZWQnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcm0gKz0gYCByZXF1aXJlZD1cIiR7SlNPTi5zdHJpbmdpZnkoZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ2NvbnN0cmFpbnRzJ11bJ3JlcXVpcmVkJ10pLnJlcGxhY2UoL1xcXCIvZywgJ1xcJycpfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ2NvbnN0cmFpbnRzJ11bJ21pbi12YWx1ZSddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9ybSArPSBgIG1pbj1cIiR7SlNPTi5zdHJpbmdpZnkoZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ2NvbnN0cmFpbnRzJ11bJ21pbi12YWx1ZSddKS5yZXBsYWNlKC9cXFwiL2csICdcXCcnKX1cImA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydjb25zdHJhaW50cyddWydtYXgtdmFsdWUnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcm0gKz0gYCBtYXg9XCIke0pTT04uc3RyaW5naWZ5KGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydjb25zdHJhaW50cyddWydtYXgtdmFsdWUnXSkucmVwbGFjZSgvXFxcIi9nLCAnXFwnJyl9XCJgO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsnY29uc3RyYWludHMnXVsncGF0dGVybiddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9ybSArPSBgIHJlZ2V4PVwiJHtKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydjb25zdHJhaW50cyddWydwYXR0ZXJuJ11bJ3ZhbHVlJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ2NvbnN0cmFpbnRzJ11bJ3BhdHRlcm4nXVsnbWVzc2FnZSddXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5yZXBsYWNlKC9cXFwiL2csICdcXCcnKX1cImA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydjb25zdHJhaW50cyddWydtYXRjaCddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9ybSArPSBgIG1hdGNoPVwiJHtKU09OLnN0cmluZ2lmeShmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsnY29uc3RyYWludHMnXVsnbWF0Y2gnXSkucmVwbGFjZSgvXFxcIi9nLCAnXFwnJyl9XCJgO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydkZWZhdWx0J10pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydkZWZhdWx0J11bJ3R5cGUnXSA9PSAnc2NyaXB0QWN0aW9uJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheShmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsnZGVmYXVsdCddKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcm0gKz0gYCB2YWx1ZT1cIiR7SlNPTi5zdHJpbmdpZnkoZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ2RlZmF1bHQnXSkucmVwbGFjZSgvXFxcIi9nLCAnXFwnJyl9XCJgO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLnJlcGxhY2UoL1xcey9nLCAne3sgXFwne1xcJyB9fScpLnJlcGxhY2UoL1xcfS9nLCAne3sgXFwnfVxcJyB9fScpfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsnZGVmYXVsdCddWydiaW5kJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsnZGVmYXVsdCddWydiaW5kJ10pLnN0YXJ0c1dpdGgoJ3snKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxGb3JtICs9IGAgYmluZD1cIiR7SlNPTi5zdHJpbmdpZnkoZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ2RlZmF1bHQnXVsnYmluZCddKS5yZXBsYWNlKC9cXFwiL2csICdcXCcnKX1cImA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9ybSArPSBgIGJpbmQ9XCIke0pTT04uc3RyaW5naWZ5KGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydkZWZhdWx0J11bJ2JpbmQnXSkucmVwbGFjZSgvXFxcIi9nLCAnJyl9XCJgO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9ybSArPSBgIHZhbHVlPVwiJHtKU09OLnN0cmluZ2lmeShmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsnZGVmYXVsdCddKS5yZXBsYWNlKC9cXFwiL2csICcnKX1cImA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWyd2YWx1ZUxpc3QnXSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsndmFsdWVMaXN0J11bJ3R5cGUnXSA9PSAnc2NyaXB0QWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcm0gKz0gYCB2YWx1ZUxpc3Q9XCIke0pTT04uc3RyaW5naWZ5KGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWyd2YWx1ZUxpc3QnXSkucmVwbGFjZSgvXFxcIi9nLCAnXFwnJyl9XCJgO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLnJlcGxhY2UoL1xcey9nLCAne3sgXFwne1xcJyB9fScpLnJlcGxhY2UoL1xcfS9nLCAne3sgXFwnfVxcJyB9fScpfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZUxpc3QgPSBgYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG9wdCBpbiBmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsndmFsdWVMaXN0J10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ3ZhbHVlTGlzdCddW29wdF1bJ2xhYmVsJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVMaXN0ICs9IGA8b3B0aW9uIGxhYmVsPVwiJHtmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsndmFsdWVMaXN0J11bb3B0XVsnbGFiZWwnXX1cIj4ke2Zvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWyd2YWx1ZUxpc3QnXVtvcHRdWydsYWJlbCddfTwvb3B0aW9uPmA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUxpc3QgKz0gYDxvcHRpb24+JHtKU09OLnN0cmluZ2lmeShmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsndmFsdWVMaXN0J11bb3B0XSkucmVwbGFjZSgvXFxcIi9nLCAnJyl9PC9vcHRpb24+YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydsYWJlbCddKSB7XG4gICAgICAgICAgICAgICAgICAgIGh0bWxGb3JtICs9IGAgbGFiZWw9XCIke2Zvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydsYWJlbCddfVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydkZXNjcmlwdGlvbiddKSB7XG4gICAgICAgICAgICAgICAgICAgIGh0bWxGb3JtICs9IGAgZGVzY3JpcHRpb249XCIke0pTT04uc3RyaW5naWZ5KGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydkZXNjcmlwdGlvbiddKS5yZXBsYWNlKC9cXFwiL2csICcnKX1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsnc2lnbnBvc3QnXSkge1xuICAgICAgICAgICAgICAgICAgICBodG1sRm9ybSArPSBgIHNpZ25wb3N0PVwiJHtKU09OLnN0cmluZ2lmeShmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsnc2lnbnBvc3QnXSkucmVwbGFjZSgvXFxcIi9nLCAnXFwnJyl9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ3N0ZXAnXSkge1xuICAgICAgICAgICAgICAgICAgICBodG1sRm9ybSArPSBgIHN0ZXA9XCIke0pTT04uc3RyaW5naWZ5KGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydzdGVwJ10pLnJlcGxhY2UoL1xcXCIvZywgJ1xcJycpfVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydwbGFjZWhvbGRlciddKSB7XG4gICAgICAgICAgICAgICAgICAgIGh0bWxGb3JtICs9IGAgc3RlcD1cIiR7SlNPTi5zdHJpbmdpZnkoZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ3BsYWNlaG9sZGVyJ10pLnJlcGxhY2UoL1xcXCIvZywgJycpfVwiYDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyAgICAgIERBVEFHUklEXG5cbiAgICAgICAgICAgICAgICBpZiAoZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ3R5cGUnXVsnZmllbGRzJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRnRmllbGRzID0gYDx0ciBpZD0nY29scyc+YDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZmxkIGluIGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWyd0eXBlJ11bJ2ZpZWxkcyddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZ0ZpZWxkcyArPSBgPHRoIGlkPSdgICsgZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ3R5cGUnXVsnZmllbGRzJ11bZmxkXVsnaWQnXSArIGAnIGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGB0eXBlPSdgICsgZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ3R5cGUnXVsnZmllbGRzJ11bZmxkXVsndHlwZSddWydkYXRhVHlwZSddICsgYCcgYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgYGRlc2NyaXB0aW9uPSdgICsgZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ3R5cGUnXVsnZmllbGRzJ11bZmxkXVsnaWQnXSArIGAnPmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWyd0eXBlJ11bJ2ZpZWxkcyddW2ZsZF1bJ2xhYmVsJ10gKyBgPC90aD5gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRnRmllbGRzICs9IGA8L3RyPmA7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydkZWZhdWx0J10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZ0RhdGEgPSBgYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsnZGVmYXVsdCddWyd0eXBlJ10gPT0gXCJzY3JpcHRBY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRnRGF0YSArPSBgPHRyIGlkPSdkYXRhJyB2YWx1ZT1cIiR7SlNPTi5zdHJpbmdpZnkoZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ2RlZmF1bHQnXSkucmVwbGFjZSgvXFxcIi9nLCAnXFwnJyl9XCIgPjwvdHI+YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xzTGVuID0gZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ3R5cGUnXVsnZmllbGRzJ10ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGVudGl0eSBpbiBmb3JtWydzY2hlbWEnXVtmaWVsZElEXVsnZGVmYXVsdCddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRnRGF0YSArPSBgPHRyIGlkPSdkYXRhJz5gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBkYXRhIGluIGZvcm1bJ3NjaGVtYSddW2ZpZWxkSURdWydkZWZhdWx0J11bZW50aXR5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNudCA8IGNvbHNMZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZ0RhdGEgKz0gYDx0ZD5gICsgZm9ybVsnc2NoZW1hJ11bZmllbGRJRF1bJ2RlZmF1bHQnXVtlbnRpdHldW2RhdGFdICsgYDwvdGQ+YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZ0RhdGEgKz0gYDwvdHI+YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZm9ybVsnb3B0aW9ucyddWydleHRlcm5hbFZhbGlkYXRpb25zJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZXh0VmFsIGluIGZvcm1bJ29wdGlvbnMnXVsnZXh0ZXJuYWxWYWxpZGF0aW9ucyddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpZCBpbiBmb3JtWydvcHRpb25zJ11bJ2V4dGVybmFsVmFsaWRhdGlvbnMnXVtleHRWYWxdWyd0YXJnZXQnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZElEID09IGZvcm1bJ29wdGlvbnMnXVsnZXh0ZXJuYWxWYWxpZGF0aW9ucyddW2V4dFZhbF1bJ3RhcmdldCddW2lkXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9ybSArPSBgIG9wdGlvbnM9XCIke0pTT04uc3RyaW5naWZ5KGZvcm1bJ29wdGlvbnMnXVsnZXh0ZXJuYWxWYWxpZGF0aW9ucyddW2V4dFZhbF0pLnJlcGxhY2UoL1xcXCIvZywgJ1xcJycpfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBodG1sRm9ybSArPSBgPmA7XG4gICAgICAgICAgICAgICAgaWYgKChmaWVsZFR5cGUgPT0gJ2Ryb3BEb3duJyB8fCBmaWVsZFR5cGUgPT0gJ211bHRpU2VsZWN0JykgJiYgdmFsdWVMaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGh0bWxGb3JtICs9IHZhbHVlTGlzdDtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVMaXN0ID0gYGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICAgICAgREFUQUdSSURcbiAgICAgICAgICAgICAgICBpZiAoZmllbGRUeXBlID09ICdkYXRhZ3JpZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbEZvcm0gKz0gZGdGaWVsZHM7XG4gICAgICAgICAgICAgICAgICAgIGh0bWxGb3JtICs9IGRnRGF0YTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBodG1sRm9ybSArPSBjbG9zaW5nVGFnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHRtbEZvcm0gKz0gYDwvc2VjdGlvbj5gO1xuICAgICAgICB9XG4gICAgICAgIGh0bWxGb3JtICs9IGA8L2Zvcm0+YDtcbiAgICB9XG5cblxuICAgIGh0bWxGb3JtICs9IGA8L2Rpdj5gXG5cbiAgICB0cnkge1xuICAgICAgICAvLyBmc3lzLnRydW5jYXRlU3luYyhwYXRoaC5qb2luKCdzcmMvYXBwJywgJ2FwcC5jb21wb25lbnQuaHRtbCcpLCAnJyk7XG4gICAgICAgIGZzeXMud3JpdGVGaWxlU3luYyhwYXRoaC5qb2luKCdzcmMvYXBwJywgJ2FwcC5jb21wb25lbnQuaHRtbCcpLCBodG1sRm9ybSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUiBpbXBvcnRGb3JtKCkgd3JpdGluZyB0byB0aGUgYXBwLmNvbXBvbmVudC5odG1sIGZpbGU6JyArIGUpO1xuICAgIH1cblxufVxuIl19